!function(){"use strict";function t(e){this.__name=e,this.__nameAlign=t.CENTER,this.__rows=[],this.__maxCells=0,this.__aligns=[],this.__colMaxes=[],this.__spacing=1,this.__heading=null,this.__headingAlign=t.CENTER,this.setBorder()}var e=Array.prototype.slice,i=Object.prototype.toString,n="undefined"!=typeof require?require("colors"):null;t.VERSION="0.0.1",t.LEFT=0,t.CENTER=1,t.RIGHT=2,t.prototype.setBorder=function(){this.__border=!0,this.__edge="|",this.__fill="-"},t.prototype.removeBorder=function(){this.__border=!1,this.__edge=" ",this.__fill=" "},t.prototype.setAlign=function(t,e){return this.__aligns[t]=e,this},t.prototype.setAlignLeft=function(e){return this.setAlign(e,t.LEFT)},t.prototype.setAlignCenter=function(e){return this.setAlign(e,t.CENTER)},t.prototype.setAlignRight=function(e){return this.setAlign(e,t.RIGHT)},t.align=function(e,i,n,r){return e===t.LEFT?t.alignLeft(i,n,r):e===t.RIGHT?t.alignRight(i,n,r):e===t.CENTER?t.alignCenter(i,n,r):t.alignAuto(i,n,r)},t.alignLeft=function(t,e,i){return!e||0>e?"":("undefined"==typeof t&&(t=""),"undefined"==typeof i&&(i=" "),"string"!=typeof t&&(t=t.toString()),t+Array(e+1-t.length).join(i))},t.alignCenter=function(e,i,r,s){if(!i||0>i)return"";"undefined"==typeof e&&(e=""),"undefined"==typeof r&&(r=" "),"string"!=typeof e&&(e=e.toString());var o=e.length,h=Math.floor(i/2-o/2),l=Math.abs(o%2-i%2),i=e.length;return s&&n&&(e=e[s]),t.alignRight("",h,r)+e+t.alignLeft("",h+l,r)},t.alignRight=function(t,e,i){return!e||0>e?"":("undefined"==typeof t&&(t=""),"undefined"==typeof i&&(i=" "),"string"!=typeof t&&(t=t.toString()),Array(e+1-t.length).join(i)+t)},t.alignAuto=function(e,n,r){"undefined"==typeof e&&(e="");var s=i.call(e);if(r||(r=" "),n=+n,"[object String]"!==s&&(e=e.toString()),e.length<n)switch(s){case"[object Number]":return t.alignRight(e,n,r);default:return t.alignLeft(e,n,r)}return e},t.arrayFill=function(t,e){for(var i=new Array(t),n=0;n!==t;n++)i[n]=e;return i},t.prototype.setTitle=function(t){return this.__name=t,this},t.prototype.setTitleAlign=function(t){return this.__nameAlign=t,this},t.prototype.setTitleAlignLeft=function(){return this.setTitleAlign(t.LEFT)},t.prototype.setTitleAlignRight=function(){return this.setTitleAlign(t.RIGHT)},t.prototype.setTitleAlignCenter=function(){return this.setTitleAlign(t.CENTER)},t.prototype.sort=function(t){return this.__rows.sort(t),this},t.prototype.sortColumn=function(t,e){return this.__rows.sort(function(i,n){return e(i[t],n[t])}),this},t.prototype.setHeading=function(){return this.__heading=e.call(arguments),this},t.prototype.setHeadingAlign=function(t){return this.__headingAlign=t,this},t.prototype.setHeadingAlignLeft=function(){return this.setHeadingAlign(t.LEFT)},t.prototype.setHeadingAlignRight=function(){return this.setHeadingAlign(t.RIGHT)},t.prototype.setHeadingAlignCenter=function(){return this.setHeadingAlign(t.CENTER)},t.prototype.addRow=function(){var t=e.call(arguments);return this.__maxCells=Math.max(this.__maxCells,t.length),this.__rows.push(t),this},t.prototype.setJustify=function(t){return 0===arguments.length&&(t=!0),this.__justify=!!t,this},t.prototype.render=t.prototype.valueOf=t.prototype.toString=function(){for(var e,i=this,n=[],r=this.__maxCells,s=t.arrayFill(r,0),o=3*r,h=this.__rows,l=this.__border,_=this.__heading?[this.__heading].concat(h):h,a=0;a<_.length;a++)for(var g=_[a],u=0;r>u;u++){var p=g[u];s[u]=Math.max(s[u],p?p.toString().length:0)}this.__colMaxes=s,e=this.__justify?Math.max.apply(null,s):0,s.forEach(function(t){o+=e?e:t+i.__spacing}),e&&(o+=s.length),o-=this.__spacing,l&&n.push(this._seperator(o,".")),this.__name&&(n.push(this._renderTitle(o)),l&&n.push(this._seperator(o))),this.__heading&&(n.push(this._renderRow(this.__heading," ",this.__headingAlign,"cyan")),n.push(this._rowSeperator(r,this.__fill)));for(var a=0;a<this.__rows.length;a++)n.push(this._renderRow(this.__rows[a]," "));return l&&n.push(this._seperator(o,"'")),n.join("\n")},t.prototype._seperator=function(e,i){return i||(i=this.__edge),i+t.alignRight(i,e,this.__fill)},t.prototype._rowSeperator=function(){var e=t.arrayFill(this.__maxCells,"-");return this._renderRow(e,"-")},t.prototype._renderTitle=function(e){var i=" "+this.__name+" ",n=t.align(this.__nameAlign,i,e-1," ");return this.__edge+n+this.__edge},t.prototype._renderRow=function(e,i,n,r){for(var s=[""],o=this.__colMaxes,h=0;h<this.__maxCells;h++){var l=e[h],_=this.__justify?Math.max.apply(null,o):o[h],a=h===this.__maxCells-1?_:_+this.__spacing,g=this.__aligns[h],u=n,p="alignAuto";"undefined"==typeof n&&(u=g),u===t.LEFT&&(p="alignLeft"),u===t.CENTER&&(p="alignCenter"),u===t.RIGHT&&(p="alignRight"),s.push(t[p](l,a,i,r))}var f=s.join(i+this.__edge+i);return f=f.substr(1,f.length),f+i+this.__edge},"undefined"!=typeof exports?module.exports=t:this.AsciiTable=t}.call(this);